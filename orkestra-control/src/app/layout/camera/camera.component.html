<!-- << Copyright 2022 Tamayo Uria, Ana Domínguez Fanlo, Mikel Joseba Zorrilla Berasategui, Héctor Rivas Pagador, Sergio Cabrero Barros, Juan Felipe Mogollón Rodríguez, Daniel Mejías y Stefano Masneri >>
This file is part of CoCreationStage.
CoCreationStage is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
CoCreationStage is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.
You should have received a copy of the GNU Lesser General Public License along with Orkestralib. If not, see <https://www.gnu.org/licenses/>. -->
<app-top-bar #myTopBar>
    <ng-container class="middle">
        <span class="child" style="color: white">
            <ng-container i18n>{{ "Camera" | translate }}:</ng-container>:
            {{ name }}</span
        >
    </ng-container>
</app-top-bar>

<div class="containerBody">
    <div class="content" id="content">
        <div class="body">
            <div id="pageFS">
                <div class="streamWrapper">
                    <div class="" id="container">
                        <div id="streamDiv" class="streamDiv">
                            <div id="stream" class="stream streamBig">
                                <webrtc-publisher
                                    style="width: 100%; height: 100%"
                                    [input]="peerId"
                                    [config]="config"
                                    [options]="options"
                                >
                                </webrtc-publisher>
                                <div class="pathChat">
                                    <div id="pathText" class="streamPaused">
                                        Stream {{ statusStream }}
                                    </div>
                                    <div id="led" class="ledOff"></div>
                                </div>
                            </div>
                        </div>

                        <div class="actionContentWrapper">
                            <div class="actionsContent">
                                <div class="wrapperButtonTitle">
                                    <div class="wrapper-button-container">
                                        <div class="button-container">
                                            <button
                                                (click)="goBack()"
                                                type="button"
                                                class="
                                                    btn btn-primary
                                                    add-button
                                                "
                                            >
                                                <mat-icon
                                                    aria-hidden="false"
                                                    aria-label="Example home icon"
                                                >
                                                    arrow_back
                                                </mat-icon>
                                                Dispositivos
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="actions" class="actions actionsBig">
                                 <!--   <i
                                        class="fab fa-youtube"
                                        (click)="publishCameraToOtherService()"
                                        style="
                                            font-size: 28pt;
                                            color: red;
                                            cursor: pointer;
                                            position: relative;
                                            left: -15px;
                                            top: 15px;
                                        "
                                    ></i> -->
                                    <div
                                        id="pauseBtn"
                                        class="pauseBtn play"
                                        (click)="onClickPlayPause()"
                                    >
                                        <div id="pauseBtnText">
                                            {{ statusButtonPlay }}
                                        </div>
                                        <svg
                                            class="pauseIcon"
                                            width="26"
                                            height="26"
                                            viewBox="0 0 26 26"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M10 4H6V21H10V4Z"
                                                fill="#1B1B1B"
                                                stroke="#1B1B1B"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                            />
                                            <path
                                                d="M19 4H15V21H19V4Z"
                                                fill="#1B1B1B"
                                                stroke="#1B1B1B"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                            />
                                        </svg>
                                        <svg
                                            class="playIcon"
                                            width="17"
                                            height="19"
                                            viewBox="0 0 17 19"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M15.4033 7.80481C16.6577 8.58802 16.6576 10.4147 15.4032 11.1979L3.83912 18.4168C2.50696 19.2484 0.779975 18.2906 0.780028 16.7202L0.780516 2.2815C0.780569 0.71108 2.50762 -0.246621 3.83972 0.585081L15.4033 7.80481Z"
                                                fill="#1B1B1B"
                                            />
                                        </svg>
                                    </div>
                                    <div
                                        class="settingsBtn"
                                        (click)="toggleSettings()"
                                    >
                                        <svg
                                            id="settingsIcon"
                                            class="settingsIconBig"
                                            width="24"
                                            height="24"
                                            viewBox="0 0 24 24"
                                            fill="#EBEBEB"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M19.5006 12C19.5006 11.77 19.4906 11.55 19.4706 11.32L21.3306 9.91C21.7306 9.61 21.8406 9.05 21.5906 8.61L19.7206 5.38C19.4706 4.94 18.9306 4.76 18.4706 4.96L16.3206 5.87C15.9506 5.61 15.5606 5.38 15.1506 5.19L14.8606 2.88C14.8006 2.38 14.3706 2 13.8706 2H10.1406C9.63064 2 9.20064 2.38 9.14064 2.88L8.85064 5.19C8.44064 5.38 8.05064 5.61 7.68064 5.87L5.53064 4.96C5.07064 4.76 4.53064 4.94 4.28064 5.38L2.41064 8.62C2.16064 9.06 2.27064 9.61 2.67064 9.92L4.53064 11.33C4.51064 11.55 4.50064 11.77 4.50064 12C4.50064 12.23 4.51064 12.45 4.53064 12.68L2.67064 14.09C2.27064 14.39 2.16064 14.95 2.41064 15.39L4.28064 18.62C4.53064 19.06 5.07064 19.24 5.53064 19.04L7.68064 18.13C8.05064 18.39 8.44064 18.62 8.85064 18.81L9.14064 21.12C9.20064 21.62 9.63064 22 10.1306 22H13.8606C14.3606 22 14.7906 21.62 14.8506 21.12L15.1406 18.81C15.5506 18.62 15.9406 18.39 16.3106 18.13L18.4606 19.04C18.9206 19.24 19.4606 19.06 19.7106 18.62L21.5806 15.39C21.8306 14.95 21.7206 14.4 21.3206 14.09L19.4606 12.68C19.4906 12.45 19.5006 12.23 19.5006 12ZM12.0406 15.5C10.1106 15.5 8.54064 13.93 8.54064 12C8.54064 10.07 10.1106 8.5 12.0406 8.5C13.9706 8.5 15.5406 10.07 15.5406 12C15.5406 13.93 13.9706 15.5 12.0406 15.5Z"
                                            />
                                        </svg>
                                        <svg
                                            id="fullscreenIcon"
                                            class="fullscreenIconBig"
                                            width="24"
                                            height="24"
                                            viewBox="0 0 24 24"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M15 3H21V9"
                                                stroke="#EBEBEB"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                            />
                                            <path
                                                d="M9 21H3V15"
                                                stroke="#EBEBEB"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                            />
                                            <path
                                                d="M21 3L14 10"
                                                stroke="#EBEBEB"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                            />
                                            <path
                                                d="M3 21L10 14"
                                                stroke="#EBEBEB"
                                                stroke-width="2"
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                            />
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="viewerDiv" class="viewerDiv viewerDivBig">
                        <div>Beeing viewed on:</div>
                        <div class="viewerRow" *ngIf="isOn()">
                            <ng-container *ngFor="let c of onairAt">
                                <div class="viewer">{{ c }}</div>
                            </ng-container>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="chatContainer">
        <app-chat-mobile
            (closeChatParent)="onClickCloseChat()"
            (openChatParent)="onClickOpenChat()"
            [app]="app"
        ></app-chat-mobile>
    </div>
</div>
